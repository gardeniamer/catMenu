(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-components-catMsgEdit"],{"0ad9":function(e,t,n){e.exports=n.p+"static/img/selectNo.1e83bf7c.png"},"12ae":function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToPath=function(e){return new Promise((function(t,n){if("object"===("undefined"===typeof window?"undefined":(0,i.default)(window))&&"document"in window){e=e.split(",");var a=e[0].match(/:(.*?);/)[1],r=atob(e[1]),c=r.length,d=new Uint8Array(c);while(c--)d[c]=r.charCodeAt(c);return t((window.URL||window.webkitURL).createObjectURL(new Blob([d],{type:a})))}var u=e.split(",")[0].match(/data\:\S+\/(\S+);/);u?u=u[1]:n(new Error("base64 error"));var l=function(){return Date.now()+String(s++)}()+"."+u;if("object"!==("undefined"===typeof plus?"undefined":(0,i.default)(plus)))if("object"===("undefined"===typeof wx?"undefined":(0,i.default)(wx))&&wx.canIUse("getFileSystemManager")){f=wx.env.USER_DATA_PATH+"/"+l;wx.getFileSystemManager().writeFile({filePath:f,data:o(e),encoding:"base64",success:function(){t(f)},fail:function(e){n(e)}})}else n(new Error("not support"));else{var f="_doc/uniapp_temp/"+l;if(!function(e,t){for(var n=e.split("."),a=t.split("."),i=!1,o=0;o<a.length;o++){var s=n[o]-a[o];if(0!==s){i=s>0;break}}return i}("Android"===plus.os.name?"1.9.9.80627":"1.9.9.80472",plus.runtime.innerVersion))return void plus.io.resolveLocalFileSystemURL("_doc",(function(a){a.getDirectory("uniapp_temp",{create:!0,exclusive:!1},(function(a){a.getFile(l,{create:!0,exclusive:!1},(function(a){a.createWriter((function(a){a.onwrite=function(){t(f)},a.onerror=n,a.seek(0),a.writeAsBinary(o(e))}),n)}),n)}),n)}),n);var p=new plus.nativeObj.Bitmap(l);p.loadBase64Data(e,(function(){p.save(f,{},(function(){p.clear(),t(f)}),(function(e){p.clear(),n(e)}))}),(function(e){p.clear(),n(e)}))}}))},t.pathToBase64=function(e){return new Promise((function(t,n){if("object"===("undefined"===typeof window?"undefined":(0,i.default)(window))&&"document"in window){if("function"===typeof FileReader){var a=new XMLHttpRequest;return a.open("GET",e,!0),a.responseType="blob",a.onload=function(){if(200===this.status){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=n,e.readAsDataURL(this.response)}},a.onerror=n,void a.send()}var o=document.createElement("canvas"),s=o.getContext("2d"),r=new Image;return r.onload=function(){o.width=r.width,o.height=r.height,s.drawImage(r,0,0),t(o.toDataURL()),o.height=o.width=0},r.onerror=n,void(r.src=e)}"object"!==("undefined"===typeof plus?"undefined":(0,i.default)(plus))?"object"===("undefined"===typeof wx?"undefined":(0,i.default)(wx))&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t("data:image/png;base64,"+e.data)},fail:function(e){n(e)}}):n(new Error("not support")):plus.io.resolveLocalFileSystemURL(function(e){if(0===e.indexOf("_www")||0===e.indexOf("_doc")||0===e.indexOf("_documents")||0===e.indexOf("_downloads"))return e;if(0===e.indexOf("file://"))return e;if(0===e.indexOf("/storage/emulated/0/"))return e;if(0===e.indexOf("/")){var t=plus.io.convertAbsoluteFileSystem(e);if(t!==e)return t;e=e.substr(1)}return"_www/"+e}(e),(function(e){e.file((function(e){var a=new plus.io.FileReader;a.onload=function(e){t(e.target.result)},a.onerror=function(e){n(e)},a.readAsDataURL(e)}),(function(e){n(e)}))}),(function(e){n(e)}))}))};var i=a(n("53ca"));function o(e){var t=e.split(",");return t[t.length-1]}n("c975"),n("d3b7"),n("d9e2"),n("d401"),n("ac1f"),n("466d"),n("81b2"),n("0eb6"),n("b7ef"),n("8bd4"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var s=0},"30ab":function(e,t,n){e.exports=n.p+"static/img/woman.6afa7c93.png"},"31d7":function(e,t,n){e.exports=n.p+"static/img/no.7cc96116.png"},"3e3e":function(e,t,n){e.exports=n.p+"static/img/selectWoman.4e8627aa.png"},"4f36":function(e,t,n){var a=n("dfea");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("3f6805c4",a,!0,{sourceMap:!1,shadowMode:!1})},"4fde":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"community"},[a("v-uni-view",{staticClass:"push"}),a("navbar",{attrs:{"left-icon":"back","right-icon":"bars",backgroundColor:"transparent",border:!1},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)},clickRight:function(t){arguments[0]=t=e.$handleEvent(t),e.more.apply(void 0,arguments)}},scopedSlots:e._u([{key:"default",fn:function(){return[a("v-uni-view",{staticClass:"navWord"},[e._v("扫描")])]},proxy:!0}])}),a("v-uni-view",{staticClass:"catImage"},[a("v-uni-image",{attrs:{src:e.catImg,mode:""}})],1),e._l(e.list,(function(t,i){return a("v-uni-view",{key:i,staticClass:"catContent"},[a("v-uni-view",{staticClass:"content"},[e._v(e._s(t))]),e._l(e.list2,(function(t,o,s){return s==i?a("span",{key:o,staticClass:"contentInput"},[1==s?a("v-uni-view",{staticClass:"gender"},[a("span",{staticClass:"left",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.genderChange(0)}}},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:0==e.gender,expression:"gender == 0"}],attrs:{src:n("9e9a"),mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1==e.gender,expression:"gender == 1"}],attrs:{src:n("9502"),mode:""}}),e._v("公")],1),a("span",{staticClass:"right",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.genderChange(1)}}},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1==e.gender,expression:"gender == 1"}],attrs:{src:n("3e3e"),mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:0==e.gender,expression:"gender == 0"}],attrs:{src:n("30ab"),mode:""}}),e._v("母")],1)]):e._e(),4==s?a("v-uni-view",{staticClass:"reproduction"},[a("span",{staticClass:"left",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.controlChange(1)}}},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1==e.control,expression:"control == 1"}],class:{special:4==s},attrs:{src:n("e42a"),mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:0==e.control,expression:"control == 0"}],class:{special:4==s},attrs:{src:n("b438"),mode:""}}),e._v("是")],1),a("span",{staticClass:"right",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.controlChange(0)}}},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:0==e.control,expression:"control == 0"}],attrs:{src:n("0ad9"),mode:""}}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1==e.control,expression:"control == 1"}],attrs:{src:n("31d7"),mode:""}}),e._v("否")],1)]):e._e(),1!=s&&4!=s&&0==s?a("v-uni-input",{attrs:{type:"text",name:"",id:""},model:{value:e.nickName,callback:function(t){e.nickName=t},expression:"nickName"}}):e._e(),1!=s&&4!=s&&2==s?a("v-uni-input",{attrs:{type:"text",name:"",id:""},model:{value:e.monster,callback:function(t){e.monster=t},expression:"monster"}}):e._e(),1!=s&&4!=s&&3==s?a("v-uni-input",{attrs:{type:"text",name:"",id:""},model:{value:e.dateOfBirth,callback:function(t){e.dateOfBirth=t},expression:"dateOfBirth"}}):e._e(),1!=s&&4!=s&&5==s?a("v-uni-input",{attrs:{type:"text",name:"",id:""},model:{value:e.disease,callback:function(t){e.disease=t},expression:"disease"}}):e._e(),1!=s&&4!=s&&6==s?a("v-uni-input",{attrs:{type:"text",name:"",id:""},model:{value:e.vaccine,callback:function(t){e.vaccine=t},expression:"vaccine"}}):e._e()],1):e._e()}))],2)})),a("v-uni-view",{staticClass:"finish",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.finished.apply(void 0,arguments)}}},[e._v("确认存档")]),a("v-uni-view",{staticClass:"push2"})],2)},i=[]},9502:function(e,t,n){e.exports=n.p+"static/img/man.abcd60da.png"},"9e9a":function(e,t,n){e.exports=n.p+"static/img/selectMan.0ccaec02.png"},a64c:function(e,t,n){"use strict";n.r(t);var a=n("b762"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},b438:function(e,t,n){e.exports=n.p+"static/img/yes.a4d4255c.png"},b66d:function(e,t,n){"use strict";var a=n("4f36"),i=n.n(a);i.a},b762:function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("b32d")),o=n("12ae"),s={components:{navbar:i.default},data:function(){return{catImg:"",catImgReal:"",list:["姓名","性别","主人","出生日期","绝育","过往病例","疫苗"],list2:{nickName:"",gender:"",monster:"",dateOfBirth:"",birthControlStatus:"",disease:"",vaccine:""},gender:0,control:1,count:0,nickName:"",monster:"",dateOfBirth:"",disease:"",vaccine:""}},onLoad:function(){var e=this;uni.$on("transferEdit",(function(t){e.catImg=t,(0,o.pathToBase64)(t).then((function(t){e.catImgReal=t})).catch((function(e){console.log(e)}))}))},methods:{back:function(){uni.navigateBack()},genderChange:function(e){this.gender=e},controlChange:function(e){this.control=e},finished:function(){var e=this;for(var t in this.list2.nickName=this.nickName,this.list2.monster=this.monster,this.list2.dateOfBirth=this.dateOfBirth,this.list2.disease=this.disease,this.list2.vaccine=this.vaccine,this.list2)if(console.log(this.list2[t]),""==this.list2[t]&&"gender"!=t&&"birthControlStatus"!=t){uni.showToast({icon:"error",title:"请填写完整信息"}),this.count++;break}0==this.count?uni.request({method:"GET",url:"https://ai.ybinsure.com/s/api/getAccessToken",data:{accessKey:"APPID_VRAuK415324F4G4r",accessSecret:"450e7b721fe9c4d149bafa087c490dc6"},success:function(t){var n=t.data.data.access_token;uni.request({method:"POST",url:"https://ai.ybinsure.com/s/api/createPetArchivesFromCatFace",header:{"content-type":"application/x-www-form-urlencoded"},data:{token:n,imageBase64:e.catImgReal,nickname:e.list2.nickName,gender:e.gender,dateOfBirth:e.list2.dateOfBirth,birthControlStatus:e.control,mark:"monster:"+e.list2.monster+",disease:"+e.list2.disease+",vaccine:"+e.list2.vaccine},success:function(e){e.data.status<300?uni.showToast({icon:"success",title:"存储成功"}):uni.showToast({icon:"none",title:e.data.message}),setTimeout((function(){uni.navigateBack()}),2e3)}})}}):this.count=0}}};t.default=s},dfea:function(e,t,n){var a=n("24fb"),i=n("1de5"),o=n("60f3");t=a(!1);var s=i(o);t.push([e.i,"*[data-v-65ca7f68]{margin:0;padding:0}.community[data-v-65ca7f68]{background-color:#f0f0f0;background-image:url("+s+");background-repeat:no-repeat;background-size:70%}.push[data-v-65ca7f68]{width:100%;height:%?90?%}.navbar[data-v-65ca7f68]{width:30px;height:25px;-webkit-transform:translate(65px,8px);transform:translate(65px,8px)}.navWord[data-v-65ca7f68]{width:100%;height:100%;font-size:20px;text-align:center;line-height:44px}.catImage[data-v-65ca7f68]{margin:%?60?% auto %?100?% auto;width:%?500?%;height:%?600?%}.catImage uni-image[data-v-65ca7f68]{width:100%;height:100%}.catContent[data-v-65ca7f68]{margin:0 auto %?40?% auto;width:%?600?%;height:%?100?%;line-height:%?100?%}.content[data-v-65ca7f68]{display:inline-block;width:%?150?%;height:%?60?%;line-height:%?60?%;background-color:#ffecd2;border-radius:%?40?%;text-align:center;font-size:15px}.contentInput[data-v-65ca7f68]{display:inline-block;width:%?354?%;height:%?80?%;border-bottom:2px dashed #000;-webkit-transform:translateX(%?15?%);transform:translateX(%?15?%);text-align:center}.contentInput uni-image[data-v-65ca7f68]{width:%?40?%;height:%?40?%;-webkit-transform:translate(%?-8?%,%?8?%);transform:translate(%?-8?%,%?8?%)}.contentInput uni-input[data-v-65ca7f68]{height:%?70?%;-webkit-transform:translateY(%?14?%);transform:translateY(%?14?%)}.left[data-v-65ca7f68]{width:%?100?%;height:%?80?%;display:inline-block;-webkit-transform:translateX(%?-60?%);transform:translateX(%?-60?%)}.right[data-v-65ca7f68]{width:%?100?%;height:%?80?%;display:inline-block;-webkit-transform:translateX(%?60?%);transform:translateX(%?60?%)}.special[data-v-65ca7f68]{width:%?50?%!important}.finish[data-v-65ca7f68]{margin:0 auto;width:%?600?%;height:%?100?%;background-color:#ffecd2;text-align:center;line-height:%?100?%;border-radius:%?100?%}.push2[data-v-65ca7f68]{width:100%;height:%?60?%}",""]),e.exports=t},e42a:function(e,t,n){e.exports=n.p+"static/img/selectYes.0063b0e9.png"},febd:function(e,t,n){"use strict";n.r(t);var a=n("4fde"),i=n("a64c");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("b66d");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"65ca7f68",null,!1,a["a"],void 0);t["default"]=r.exports}}]);